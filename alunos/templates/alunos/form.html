<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Aluno</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-4">
    <h3 class="mb-4">Cadastro de Aluno</h3>
    <!-- formulário: usa rota de edição se houver instance.pk, caso contrário usa rota de criação -->
    <form method="post" action="{% if form.instance and form.instance.pk %}{% url 'editar_aluno' form.instance.pk %}{% else %}{% url 'novo_aluno' %}{% endif %}">
        {% csrf_token %}

        <div class="card mb-4">
            <div class="card-header">Informações Pessoais</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        {{ form.nome_completo.label_tag }}
                        {{ form.nome_completo }}
                    </div>
                    <div class="col-md-6 mb-3">
                        {{ form.data_nascimento.label_tag }}
                        {{ form.data_nascimento }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        {{ form.cpf.label_tag }}
                        {{ form.cpf }}
                    </div>
                    <div class="col-md-6 mb-3">
                        {{ form.rg.label_tag }}
                        {{ form.rg }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        {{ form.sexo.label_tag }}
                        {{ form.sexo }}
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-header">Informações de Contato</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        {{ form.email.label_tag }}
                        {{ form.email }}
                    </div>
                    <div class="col-md-6 mb-3">
                        {{ form.telefone.label_tag }}
                        {{ form.telefone }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        {{ form.telefone_emergencia.label_tag }}
                        {{ form.telefone_emergencia }}
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-header">Endereço</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        {{ form.cep.label_tag }}
                        {{ form.cep }}
                    </div>
                    <div class="col-md-8 mb-3">
                        {{ form.endereco.label_tag }}
                        {{ form.endereco }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        {{ form.complemento.label_tag }}
                        {{ form.complemento }}
                    </div>
                    <div class="col-md-4 mb-3">
                        {{ form.bairro.label_tag }}
                        {{ form.bairro }}
                    </div>
                    <div class="col-md-4 mb-3">
                        {{ form.cidade.label_tag }}
                        {{ form.cidade }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        {{ form.numero.label_tag }}
                        {{ form.numero }}
                    </div>
                    <div class="col-md-4 mb-3">
                        {{ form.uf.label_tag }}
                        {{ form.uf }}
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-header">Informações Acadêmicas</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        {{ form.numero_matricula.label_tag }}
                        {{ form.numero_matricula }}
                    </div>
                    <div class="col-md-4 mb-3">
                        {{ form.curso.label_tag }}
                        {{ form.curso }}
                    </div>
                    <div class="col-md-4 mb-3">
                        {{ form.serie_ano.label_tag }}
                        {{ form.serie_ano }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        {{ form.turno.label_tag }}
                        {{ form.turno }}
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 mb-3">
                        {{ form.observacoes.label_tag }}
                        {{ form.observacoes }}
                    </div>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-end">
            <button type="reset" class="btn btn-secondary me-2">Limpar</button>
            <button type="submit" class="btn btn-primary">{% if form.instance and form.instance.pk %}Salvar alterações{% else %}Cadastrar Aluno{% endif %}</button>
        </div>
    </form>
</div>
</body>
</html>
